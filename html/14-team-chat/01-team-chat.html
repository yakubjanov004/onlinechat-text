<!doctype html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QULAY CHAT - Team Chat</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../assets/qulay-chat-design-system.css">
<script src="https://unpkg.com/lucide@latest" defer></script>
<script src="../assets/qulay-chat-shell.js" defer></script>
<script src="../assets/qulay-chat-runtime.js" defer></script>
<script src="../assets/team-chat-interactions.js" defer></script>
<style>
.team-chat-main{border:1px solid #e5e7eb;border-radius:16px;overflow:hidden;background:rgba(255,255,255,.78);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 18px 36px rgba(15,23,42,.08)}
.team-chat-main .head{background:rgba(255,255,255,.9);border-bottom:1px solid #e5e7eb}
.messages{background:linear-gradient(180deg,#f8faff,#ffffff 28%,#ffffff);padding:16px;gap:10px}
.messages [data-msg]{box-shadow:0 6px 14px rgba(15,23,42,.07);border-radius:14px;border:1px solid #eef2ff}
.msg-system{font-weight:600;color:#6b7280;margin:8px 0 12px;letter-spacing:.01em}
.tc-composer{border-top:1px solid #e5e7eb;padding:10px 12px;background:rgba(255,255,255,.92);display:grid;gap:8px}
.tc-composer-shell{border:1px solid #d8def0;border-radius:14px;background:linear-gradient(180deg,#ffffff,#f7f9ff);padding:8px;display:grid;gap:8px;box-shadow:0 10px 24px rgba(79,70,229,.10)}
.tc-toolbar{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.tc-toolbar .icon-btn{width:30px;height:30px;border-radius:8px}
.tc-toolbar .icon-btn:hover{background:#eef2ff;color:#4338ca;transform:translateY(-1px)}
.tc-input-row{display:grid;grid-template-columns:1fr auto;gap:8px;align-items:end}
.tc-input-row .textarea{min-height:44px;max-height:130px;resize:none;border-radius:12px;border-color:#cfd6ea;background:#fff}
.tc-send{width:38px;height:38px;padding:0;border-radius:11px;box-shadow:0 10px 22px rgba(79,70,229,.30)}
</style>
</head>
<body data-active-nav="team-chat" class="dashboard-shell-page">
<main class="app-content">
  <div class="subnav-scroll">
    <div class="subnav-tabs">
      <a class="subnav-tab active" href="./01-team-chat.html">Team Chat</a>
      <a class="subnav-tab" href="./02-room-settings.html">Room Settings</a>
      <a class="subnav-tab" href="./03-notifications.html">Team Chat Notifications</a>
    </div>
  </div>

  <div class="page-header">
    <div class="alert alert-info" data-roles="agent" style="margin-bottom:10px"><i data-lucide="users"></i><div>Agent rejimi: mavjud DM/xonalarda qatnashish mumkin, yangi room yaratish yopiq.</div></div>
    <div class="alert alert-warning" data-roles="admin" style="margin-bottom:10px"><i data-lucide="crown"></i><div>Admin rejimi: yangi room ochish, room sozlamalari va a'zolarni boshqarish mavjud.</div></div>
    <div>
      <h1>Jamoa chat</h1>
      <p class="text-muted">Ichki muloqot, DM va xonalar bo‚Äòyicha real-time hamkorlik</p>
    </div>
    <div class="page-header-actions">
      <button type="button" class="btn btn-primary" data-tc-new-chat><i data-lucide="plus"></i> Yangi chat</button>
      <button type="button" class="btn btn-secondary" data-roles="admin" data-nav="./02-room-settings.html"><i data-lucide="settings"></i> Room boshqaruvi</button>
    </div>
  </div>

  <section class="slack-layout" data-team-chat-root>
    <aside class="channel-list">
      <div class="input-group"><i data-lucide="search"></i><input class="input" type="search" placeholder="Agent yoki xonani qidirish..." data-tc-search></div>

      <div class="pill-tabs" style="margin-top:8px" data-tc-type-tabs>
        <button class="tab active" type="button" data-tc-type="dm">To'g'ridan-to'g'ri</button>
        <button class="tab" type="button" data-tc-type="room">Xonalar</button>
      </div>

      <div class="form-row" style="padding:8px 0 0">
        <div class="row-copy"><span class="form-label">Online faqat</span></div>
        <label class="toggle-switch"><input type="checkbox" data-tc-online-only><span class="toggle-track"><span class="toggle-thumb"></span></span></label>
      </div>

      <div class="channel-group" data-tc-list-dm>
        <h4>DM</h4>
        <button class="channel-item active" type="button" data-tc-conv="dm_jahongir" data-tc-kind="dm" data-online="1"><span>üü¢ Jahongir</span><span class="badge badge-danger">3</span></button>
        <button class="channel-item" type="button" data-tc-conv="dm_sara" data-tc-kind="dm" data-online="1"><span>üü¢ Sara</span></button>
        <button class="channel-item" type="button" data-tc-conv="dm_ali" data-tc-kind="dm" data-online="0"><span>‚ö™ Ali</span></button>
      </div>

      <div class="channel-group hidden" data-tc-list-room>
        <h4>Xonalar</h4>
        <button class="channel-item" type="button" data-tc-conv="room_general" data-tc-kind="room" data-online="1"><span>#general</span><span class="badge badge-primary">7</span></button>
        <button class="channel-item" type="button" data-tc-conv="room_support" data-tc-kind="room" data-online="1"><span>#support-team</span></button>
        <button class="channel-item" type="button" data-tc-conv="room_ann" data-tc-kind="room" data-online="1"><span>#announcements</span></button>
      </div>
    </aside>

    <div class="team-chat-main" data-tc-main>
      <div class="head">
        <div>
          <strong data-tc-title>Jahongir Otajonov</strong>
          <div class="text-muted" style="font-size:12px" data-tc-subtitle>Manager ¬∑ Online</div>
        </div>
        <div class="flex gap-2">
          <button type="button" class="btn btn-secondary" data-nav="./02-room-settings.html">Room settings</button>
          <button type="button" class="btn btn-secondary" data-nav="./03-notifications.html">Notifications</button>
        </div>
      </div>

      <div class="alert alert-warning hidden" data-tc-offline-banner>
        <i data-lucide="wifi-off"></i>
        <div>Offline rejim. Qayta ulanmoqda... <button class="btn btn-secondary btn-sm" type="button" data-tc-reconnect>Qayta ulanish</button></div>
      </div>

      <div class="messages" data-tc-messages role="log" aria-live="polite">
        <div class="msg-system">Bugun</div>
        <div class="list-item" style="align-items:flex-start;max-width:75%" data-msg>
          <span class="avatar">J</span>
          <div class="item-main">
            <div class="item-title">Jahongir <span class="text-muted" style="font-size:12px;font-weight:400">10:12</span></div>
            <div class="item-sub" style="white-space:normal;line-height:1.45">Salom, bugun SLA bo‚Äòyicha hisobotni ko‚Äòrdingizmi?</div>
            <div class="flex gap-2" style="margin-top:6px"><button class="btn btn-secondary btn-sm" type="button" data-react="üëç">üëç 2</button><button class="btn btn-secondary btn-sm" type="button" data-msg-reply>Javob berish</button></div>
          </div>
        </div>
        <div class="list-item" style="align-items:flex-start;max-width:75%;margin-left:auto;background:#4F46E5;border-color:#4F46E5;color:#fff" data-msg>
          <div class="item-main">
            <div class="item-title" style="color:#fff">Me <span style="font-size:12px;font-weight:400;opacity:.9">10:13</span></div>
            <div class="item-sub" style="white-space:normal;line-height:1.45;color:#EEF2FF">Ha, ko‚Äòrdim. Mediana 1m 21s chiqdi, yaxshi trend.</div>
            <div class="flex gap-2" style="margin-top:6px"><button class="btn btn-secondary btn-sm" type="button" data-react="‚ù§Ô∏è">‚ù§Ô∏è 1</button></div>
          </div>
        </div>
      </div>

      <div class="empty-state hidden" data-tc-empty>
        <i data-lucide="messages-square"></i>
        <div>Xabarlar yo'q</div>
        <p class="text-muted" style="font-size:13px">Jamoa bilan muloqotni boshlang</p>
      </div>

      <div style="padding:0 12px 8px; font-size:12px; color:#6B7280; min-height:18px" data-tc-typing></div>
      <div class="text-muted hidden" style="padding:0 12px 8px;font-size:12px" data-tc-replying></div>

      <div class="tc-composer">
        <div class="tc-composer-shell">
          <div class="tc-toolbar">
            <button class="icon-btn" type="button" data-tc-bold title="Bold"><strong>B</strong></button>
            <button class="icon-btn" type="button" data-tc-italic title="Italic"><em>I</em></button>
            <button class="icon-btn" type="button" data-tc-emoji title="Emoji">üòä</button>
            <button class="icon-btn" type="button" data-tc-attach title="Attach"><i data-lucide="paperclip"></i></button>
            <input type="file" hidden data-tc-file>
          </div>
          <div class="tc-input-row">
            <textarea class="textarea" rows="2" placeholder="Xabar yozing..." data-tc-input></textarea>
            <button class="btn btn-primary tc-send" type="button" data-tc-send title="Yuborish"><i data-lucide="send"></i></button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="modal-overlay" data-tc-modal="new-chat" hidden>
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="tc-new-chat-title">
      <div class="modal-header"><h3 id="tc-new-chat-title">Yangi chat boshlash</h3><button class="btn btn-ghost btn-sm" type="button" data-tc-close-modal><i data-lucide="x"></i></button></div>
      <div class="modal-body stack">
        <div class="pill-tabs" data-tc-create-tabs>
          <button class="tab active" type="button" data-create="dm">To'g'ridan-to'g'ri chat</button>
          <button class="tab" type="button" data-create="room">Guruh chat</button>
        </div>
        <div data-create-panel="dm">
          <label class="form-field"><span class="form-label">Agent tanlang</span><select class="select" data-tc-create-agent><option value="">Agent...</option><option>Jahongir</option><option>Sara</option><option>Ali</option></select></label>
          <label class="form-field"><span class="form-label">Birinchi xabar</span><textarea class="textarea" rows="4" data-tc-create-msg placeholder="Salom, masala bo'yicha gaplashamiz..."></textarea></label>
        </div>
        <div data-create-panel="room" hidden>
          <label class="form-field"><span class="form-label">Xona nomi</span><input class="input" type="text" data-tc-room-name placeholder="#new-room"></label>
          <label class="form-field"><span class="form-label">Ta'rif</span><textarea class="textarea" rows="3" data-tc-room-desc placeholder="Xona maqsadini yozing..."></textarea></label>
        </div>
      </div>
      <div class="modal-footer"><button class="btn btn-secondary" type="button" data-tc-close-modal>Bekor qilish</button><button class="btn btn-primary" type="button" data-tc-create-submit>Yaratish</button></div>
    </div>
  </div>
</main>
<script>window.addEventListener("DOMContentLoaded", function(){ if (window.lucide && window.lucide.createIcons) { window.lucide.createIcons(); } });</script>
</body>
</html>