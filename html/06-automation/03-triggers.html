<!doctype html>
<html lang="uz">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QULAY CHAT - Triggers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../assets/qulay-chat-design-system.css" />
    <script src="https://unpkg.com/lucide@latest" defer></script>
    <script src="../assets/qulay-chat-shell.js" defer></script>
    <script src="../assets/qulay-chat-runtime.js" defer></script>
    <script src="../assets/automation-triggers.js" defer></script>
  </head>
  <body data-active-nav="automation" class="dashboard-shell-page">
    <main class="app-content" data-automation-triggers>
      <div class="subnav-scroll">
        <div class="subnav-tabs">
          <a class="subnav-tab" href="./01-working-hours.html">Working Hours</a
          ><a class="subnav-tab" href="./02-auto-reply.html">Auto Reply</a
          ><a class="subnav-tab active" href="./03-triggers.html">Triggers</a
          ><a class="subnav-tab" href="./04-greetings.html">Greetings</a
          ><a class="subnav-tab" href="./05-chatbot-builder.html">Chatbot Builder</a
          ><a class="subnav-tab" href="./06-chatbot-templates.html">Chatbot Templates</a
          ><a class="subnav-tab" href="./07-routing-rules.html">Routing Rules</a>
        </div>
      </div>
      <div class="page-header">
        <div>
          <h1>Triggers</h1>
          <p class="text-muted">
            Automation qoidalari va schedule konfiguratsiyasi
          </p>
        </div>
        <div class="page-header-actions">
          <button type="button" class="btn btn-primary" data-action="save">
            Saqlash
          </button>
          <button
            type="button"
            class="btn btn-secondary"
            data-action="reset-form"
          >
            Reset
          </button>
        </div>
      </div>
      <section class="card">
        <div class="card-header">
          <div>
            <h3>Trigger ro&#39;yxati</h3>
          </div>
          <div class="card-actions">
            <button
              type="button"
              class="btn btn-secondary"
              data-trigger-action="simulate"
            >
              Simulate</button
            ><button
              type="button"
              class="btn btn-primary"
              data-trigger-action="add-row"
            >
              Yangi trigger
            </button>
          </div>
        </div>
        <div class="card-body">
          <div class="table-wrap">
            <table class="table">
              <thead>
                <tr class="table-header">
                  <th>Trigger</th>
                  <th>Condition</th>
                  <th>Action</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr class="table-row">
                  <td>Welcome Lead</td>
                  <td>First visit && /pricing</td>
                  <td>Show greeting</td>
                  <td>
                    <label class="toggle-switch"
                      ><input type="checkbox" checked /><span
                        class="toggle-track"
                        ><span class="toggle-thumb"></span></span
                    ></label>
                  </td>
                </tr>
                <tr class="table-row">
                  <td>VIP Route</td>
                  <td>Tag=VIP</td>
                  <td>Assign Sara</td>
                  <td>
                    <label class="toggle-switch"
                      ><input type="checkbox" checked /><span
                        class="toggle-track"
                        ><span class="toggle-thumb"></span></span
                    ></label>
                  </td>
                </tr>
                <tr class="table-row">
                  <td>Night Auto-close</td>
                  <td>No reply 30m</td>
                  <td>Close chat</td>
                  <td>
                    <label class="toggle-switch"
                      ><input type="checkbox" /><span class="toggle-track"
                        ><span class="toggle-thumb"></span></span
                    ></label>
                  </td>
                </tr>
                <tr class="table-row">
                  <td>Trial Follow-up</td>
                  <td>Tag=Trial && idle 10m</td>
                  <td>Quick reply</td>
                  <td>
                    <label class="toggle-switch"
                      ><input type="checkbox" checked /><span
                        class="toggle-track"
                        ><span class="toggle-thumb"></span></span
                    ></label>
                  </td>
                </tr>
                <tr class="table-row">
                  <td>Enterprise Route</td>
                  <td>Company size > 100</td>
                  <td>Assign Sardor</td>
                  <td>
                    <label class="toggle-switch"
                      ><input type="checkbox" checked /><span
                        class="toggle-track"
                        ><span class="toggle-thumb"></span></span
                    ></label>
                  </td>
                </tr>
                <tr class="table-row">
                  <td>Refund Escalation</td>
                  <td>Message contains refund</td>
                  <td>Tag + Assign Billing</td>
                  <td>
                    <label class="toggle-switch"
                      ><input type="checkbox" /><span class="toggle-track"
                        ><span class="toggle-thumb"></span></span
                    ></label>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
      <section class="card">
        <div class="card-header">
          <div>
            <h3>Trigger test-lab</h3>
            <p class="card-description">
              Keyword bo'yicha qaysi trigger ishlashini tekshirish
            </p>
          </div>
          <div class="card-actions">
            <button
              type="button"
              class="btn btn-primary"
              data-trigger-action="simulate"
            >
              Test run</button
            ><button
              type="button"
              class="btn btn-secondary"
              data-trigger-action="clear-log"
            >
              Log tozalash</button
            ><button
              type="button"
              class="btn btn-secondary"
              data-trigger-action="save"
            >
              Saqlash
            </button>
          </div>
        </div>
        <div class="card-body">
          <div class="form-grid">
            <label class="form-field"
              ><span class="form-label">Test keyword</span
              ><input
                class="input"
                type="text"
                value="vip"
                data-trigger-test="keyword"
            /></label>
          </div>
          <div class="table-wrap" style="margin-top: 12px">
            <table class="table">
              <thead>
                <tr class="table-header">
                  <th>Vaqt</th>
                  <th>Rule</th>
                  <th>Natija</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody data-trigger-log-body></tbody>
            </table>
          </div>
        </div>
      </section>
      <div class="modal-overlay" data-modal="new-trigger" hidden>
        <div
          class="modal"
          role="dialog"
          aria-modal="true"
          aria-labelledby="new-trigger-title"
        >
          <div class="modal-header">
            <h3 id="new-trigger-title">Yangi trigger</h3>
            <button class="btn btn-ghost btn-sm" type="button" data-modal-close>
              <i data-lucide="x"></i>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-grid one">
              <label class="form-field">
                <span class="form-label">Trigger nomi</span>
                <input
                  class="input"
                  type="text"
                  value="Welcome Lead"
                  placeholder=""
                />
              </label>
              <label class="form-field">
                <span class="form-label">Condition</span>
                <textarea class="textarea" rows="3" placeholder="">
Page contains /pricing AND visitor is new</textarea
                >
              </label>
              <label class="form-field">
                <span class="form-label">Action</span>
                <select class="select">
                  <option selected>Greeting yuborish</option>
                  <option>Agentga tayinlash</option>
                  <option>Tag qo&#39;shish</option>
                </select>
              </label>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-action="log"
              data-message="Bekor qilish"
              data-modal-close
            >
              Bekor qilish
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-modal-close
              data-action="save"
            >
              Saqlash
            </button>
          </div>
        </div>
      </div>
    </main>
    <script>
      window.addEventListener("DOMContentLoaded", function () {
        if (window.lucide && window.lucide.createIcons) {
          window.lucide.createIcons();
        }
      });
    </script>
  </body>
</html>
