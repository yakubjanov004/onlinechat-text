<!doctype html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QULAY CHAT - Visitors Map</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../assets/qulay-chat-design-system.css">
<script src="https://unpkg.com/lucide@latest" defer></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="" defer></script>
<script src="../assets/qulay-chat-shell.js" defer></script>
<script src="../assets/qulay-chat-runtime.js" defer></script>
<script src="../assets/visitors-interactions.js" defer></script>
</head>
<body data-active-nav="visitors" class="dashboard-shell-page">
<main class="app-content">
  <div class="subnav-scroll">
    <div class="subnav-tabs">
      <a class="subnav-tab" href="./01-visitors-list.html">Online Visitors</a>
      <a class="subnav-tab" href="./02-visitor-profile.html">Visitor Profile</a>
      <a class="subnav-tab active" href="./03-visitors-map.html">Visitors Map</a>
    </div>
  </div>

  <div class="page-header">
    <div>
      <h1>Joylashuv xaritasi</h1>
      <p class="text-muted">Onlayn visitorlar boâ€˜yicha geografik koâ€˜rinish va real-time faollik</p>
    </div>
    <div class="page-header-actions">
      <span class="badge badge-success">ðŸŸ¢ 6 online</span>
      <a class="btn btn-secondary" href="./01-visitors-list.html">List view</a>
    </div>
  </div>

  <section class="split-grid">
    <article class="card">
      <div class="card-header">
        <div>
          <h3>Interactive world map</h3>
          <p class="card-description">Marker ustiga bosib visitor harakatini kuzating</p>
        </div>
        <div class="card-actions">
          <button type="button" class="btn btn-secondary btn-sm" data-action="log" data-message="Map markazga qaytdi">Center</button>
          <button type="button" class="btn btn-secondary btn-sm" data-action="log" data-message="Zoom +">Zoom +</button>
        </div>
      </div>
      <div class="card-body">
        <div class="world-map" data-map-root>
          <div id="visitor-real-map" style="position:absolute; inset:0; border-radius:12px;"></div>
          <div data-map-fallback class="empty-state hidden" style="position:absolute; inset:16px;">
            <i data-lucide="map"></i>
            <div>Real map yuklanmadi</div>
            <p class="text-muted" style="font-size:13px">Internet yoki tile server ulanishini tekshiring.</p>
          </div>
        </div>
      </div>
    </article>

    <article class="card">
      <div class="card-header"><div><h3>Top countries</h3></div></div>
      <div class="card-body">
        <div class="kv-list">
          <div class="kv-row"><span>ðŸ‡ºðŸ‡¿ Uzbekistan</span><strong>28</strong></div>
          <div class="kv-row"><span>ðŸ‡°ðŸ‡¿ Kazakhstan</span><strong>12</strong></div>
          <div class="kv-row"><span>ðŸ‡¹ðŸ‡· Turkey</span><strong>9</strong></div>
          <div class="kv-row"><span>ðŸ‡ºðŸ‡¸ United States</span><strong>6</strong></div>
          <div class="kv-row"><span>ðŸ‡¦ðŸ‡ª UAE</span><strong>4</strong></div>
        </div>
        <div class="divider"></div>
        <div class="text-muted" style="font-size:13px">Live feed pastdagi kartada avtomatik yangilanadi</div>
      </div>
    </article>
  </section>

  <section class="card" data-map-live-feed>
    <div class="card-header">
      <div>
        <h3>Soâ€˜nggi faollik</h3>
        <p class="card-description">Visitor harakatlari real-time timeline</p>
      </div>
    </div>
    <div class="card-body">
      <div class="list-stack" data-map-feed-list></div>
    </div>
  </section>

  <section class="card">
    <div class="card-header"><div><h3>Visitors by country</h3></div></div>
    <div class="card-body">
      <div class="table-wrap">
        <table class="table">
          <thead>
            <tr class="table-header">
              <th>Country</th><th>Visitors</th><th>Active</th><th>Avg duration</th><th>Top page</th>
            </tr>
          </thead>
          <tbody>
            <tr class="table-row"><td>Uzbekistan</td><td>124</td><td>23</td><td>03:21</td><td>/pricing</td></tr>
            <tr class="table-row"><td>Kazakhstan</td><td>41</td><td>8</td><td>02:45</td><td>/features</td></tr>
            <tr class="table-row"><td>Turkey</td><td>29</td><td>5</td><td>02:18</td><td>/contact</td></tr>
            <tr class="table-row"><td>United States</td><td>18</td><td>3</td><td>04:02</td><td>/demo</td></tr>
            <tr class="table-row"><td>UAE</td><td>16</td><td>4</td><td>03:37</td><td>/enterprise</td></tr>
            <tr class="table-row"><td>India</td><td>14</td><td>2</td><td>01:56</td><td>/api</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>
</main>
<script>window.addEventListener("DOMContentLoaded", function(){ if (window.lucide && window.lucide.createIcons) { window.lucide.createIcons(); } });</script>
</body>
</html>